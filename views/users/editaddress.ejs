<%- include('../layouts/header') %>
<%- include('../layouts/sidebar') %>
<div class="content">
  <div class="container mt-5">
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb" style="background-color: white;">
        <li class="breadcrumb-item"><a href="/">Home</a></li>
        <li class="breadcrumb-item"><a href="/profile">Profile</a></li>
        <li class="breadcrumb-item active" aria-current="page">Edit Address</li>
      </ol>
    </nav>
    <div class="row">
      <div class="col-md-9">
        <h2>Edit Address</h2>
        <form id="editAddressForm" action="/update-address" method="POST">
          <% userData.forEach((address, index) => { %>
            <input type="hidden" name="addressId" value="<%= address._id %>">
            <div class="form-group">
              <% if (messages.success) { %>
                <div class="alert alert-success flash-message" role="alert" style="color: green;" data-timeout="5">
                  <%= messages.success %>
                </div>
              <% } %>
      
              <% if (messages.error) { %>
                <div class="alert alert-danger flash-message" role="alert" style="color: red;" data-timeout="5">
                  <%= messages.error %>
                </div>
              <% } %>
              <input type="text" class="form-control" id="pincode" name="pincode"  placeholder="Pincode" value="<%= address.pincode %>">
            </div>
            <div class="form-group">
              <input type="text" class="form-control" id="locality" name="locality"  placeholder="Locality" value="<%= address.locality %>">
            </div>
            <div class="form-group">
              <input type="text" class="form-control" id="address" name="address"  placeholder="Address (Area/Street)" value="<%= address.address %>">
            </div>
            <div class="form-group">
              <input type="text" class="form-control" id="city" name="city"  placeholder="City/District/Town" value="<%= address.city %>">
            </div>
            <div class="form-group">
              <input type="text" class="form-control" id="state" name="state"  placeholder="State" value="<%= address.state %>">
            </div>
            <div class="form-group">
              <label for="addresstype">Address Type</label><br>
              <label class="radio-inline">
                <input type="radio" id="addresstype-home" name="addresstype" value="home" <%= address.addresstype === "home" ? "checked" : "" %>> Home
              </label>
              <label class="radio-inline">
                <input type="radio" id="addresstype-work" name="addresstype" value="work" <%= address.addresstype === "work" ? "checked" : "" %>> Work
              </label>
            </div>
          <% }) %>
          <button type="submit" class="btn btn-primary">Update</button>
        </form>
      </div>
    </div>
  </div>
</div>
<%- include('../layouts/footer') %>